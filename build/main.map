{"version":3,"sources":["webpack:///webpack/bootstrap b5bcf22996576ef312d5","webpack:///./src/index.js","webpack:///./src/getCSSElems.js","webpack:///external \"fs\"","webpack:///external \"glob\"","webpack:///./src/HTMLUtils.js"],"names":["configPath","fs","require","getCSSElems","htmlUtils","config","JSON","parse","readFileSync","cssFilePath","cssPath","htmlFilePath","htmlPath","compiledStyles","cssElemArray","approvedElems","acceptedElems","push","totalHTMLElemArray","getAllHTMLElems","compareMatches","htmlList","cssList","unmatchedElems","filter","obj","indexOf","console","log","getClassesAndIds","stylesheet","classes","ids","temp","match","apply","filteredElems","concat","v","i","a","module","exports","glob","getHTMLElements","htmlText","elemStrings","allElems","forEach","delimeter","elem","includes","substring","split","startsWith","item","eachHTMLElemArray","files","sync","file","Set"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b5bcf22996576ef312d5","// User defines config path\nconst configPath = './test/classless.config';\nconst fs = require('fs');\nconst getCSSElems = require('./getCSSElems');\nconst htmlUtils = require('./HTMLUtils');\nconst config = JSON.parse(fs.readFileSync(configPath));\nconst cssFilePath = config.cssPath;\nconst htmlFilePath = config.htmlPath;\n\n// For the computed CSS file, grab the unique elements\nconst compiledStyles = fs.readFileSync(cssFilePath, 'utf8');\nconst cssElemArray = getCSSElems(compiledStyles);\n//Add elements from accepted elements list to the total CSS array\nconst approvedElems = config.acceptedElems;\ncssElemArray.push(approvedElems);\n\n// get all of the HTML Elements used\nconst totalHTMLElemArray = htmlUtils.getAllHTMLElems(htmlFilePath);\n\nfunction compareMatches(htmlList, cssList) {\n  // Comparing total HTML to CSS Elements allowed in design system\n  const unmatchedElems = htmlList.filter((obj) => {\n    return (cssList.indexOf(obj) == -1);\n  });\n\n  console.log(\n    `    ðŸ˜¬  Uh oh! Your markup includes the\n    following elements that do not live in the\n    design system or accepted classes config:\n\n    ${unmatchedElems}\n\n    Please revisit the design system documenation\n    or add them to your approved class list in your\n    \\`classless.config\\` file ðŸ’•  ðŸ’`\n  );\n\n  return unmatchedElems;\n}\n\ncompareMatches(totalHTMLElemArray, cssElemArray);\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","function getClassesAndIds(stylesheet) {\n  const classes = [];\n  const ids = [];\n  let temp;\n\n  // Get the classes\n  temp = stylesheet.match(/\\.\\D\\w+/g);\n  if (temp) {\n    classes.push.apply(classes, temp);\n  }\n\n  // Get the IDs\n  temp = stylesheet.match(/\\#\\D\\w+/g);\n  if (temp) {\n    ids.push.apply(ids, temp);\n  }\n\n  // Combine classes and ID's and filter for unique ones\n  const filteredElems = classes.concat(ids)\n    .filter((v, i, a) => a.indexOf(v) === i);\n\n  // Return all of the unique elements\n  // console.log(filteredElems);\n  return filteredElems;\n}\n\nmodule.exports = getClassesAndIds;\n\n\n\n// WEBPACK FOOTER //\n// ./src/getCSSElems.js","module.exports = require(\"fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs\"\n// module id = 3\n// module chunks = 0","module.exports = require(\"glob\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"glob\"\n// module id = 4\n// module chunks = 0","const glob = require('glob');\nconst fs = require('fs');\n\nfunction getHTMLElements(htmlText) {\n  const elemStrings = [];\n  const allElems = [];\n  let temp;\n\n  // Get the classes\n  temp = htmlText.match(/[class|id]+[ \\t]*=[ \\t]*['|\"][^'|\"]+['|\"]/g);\n  if (temp) {\n    elemStrings.push.apply(elemStrings, temp);\n  }\n\n  elemStrings.forEach(elem => {\n    let delimeter = '\"';\n\n    if (elem.includes(\"'\")) {\n      delimeter = \"'\";\n    }\n\n    var substring = elem.split(delimeter)[1].split(' ');\n\n    // console.log(substring);\n\n    substring.forEach(item => {\n      // get all id elements and add '#' to all Elem list\n      if (elem.startsWith(\"id\")) {\n        allElems.push('#' + item);\n\n      // get all class elements and add '.' to all Elem list\n      } else {\n        allElems.push('.' + item)\n      }\n    })\n  });\n\n  const filteredElems = allElems.filter((v, i, a) => a.indexOf(v) === i);\n\n  // console.log(filteredElems);\n  return filteredElems;\n}\n\n// let totalHTMLElemArray = [];\n\n// For each HTML file, run through and grab the elements (sidenote: this should be better structured)\nfunction getAllHTMLElems(htmlFilePath) {\n  let eachHTMLElemArray = [];\n  const files = new glob(htmlFilePath, {sync: true});\n\n  files.forEach(file => {\n    const htmlText = fs.readFileSync(file, 'utf8');\n    eachHTMLElemArray.push(getHTMLElements(htmlText));\n  });\n\n  const totalHTMLElemArray = ([ ...new Set( [].concat( ...eachHTMLElemArray ) ) ]);\n\n  // Merge all of the elements from each HTML file into one array\n  return totalHTMLElemArray;\n};\n\nmodule.exports = {\n  getHTMLElements: getHTMLElements,\n  getAllHTMLElems: getAllHTMLElems\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/HTMLUtils.js"],"sourceRoot":""}